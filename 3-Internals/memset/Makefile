CC = gcc
3 = ../
4 = ../../4-User_Mode/

0000:
	$(CC) -o memset-0000-control.exe -I $(3) memset-0000-control.c
	$(CC) -o memset-0001-control.exe -O1 -I $(3) memset-0000-control.c
	$(CC) -o memset-0002-control.exe -O2 -I $(3) memset-0000-control.c
	$(CC) -o memset-0003-control.exe -O3 -I $(3) memset-0000-control.c

1111:
	$(CC) -o memset-11110.exe -I $(3) memset-1111.c
	$(CC) -o memset-11111.exe -O1 -I $(3) memset-1111.c
	$(CC) -o memset-11112.exe -O2 -I $(3) memset-1111.c
	$(CC) -o memset-11113.exe -O3 -I $(3) memset-1111.c
	
1211:
	$(CC) -o memset-12110.exe -I $(3) memset-1211.c
	$(CC) -o memset-12111.exe -O1 -I $(3) memset-1211.c
	$(CC) -o memset-12112.exe -O2 -I $(3) memset-1211.c
	$(CC) -o memset-12113.exe -O3 -I $(3) memset-1211.c

1212:
	$(CC) -o memset-12120.exe -I $(3) memset-1212.c
	$(CC) -o memset-12121.exe -O1 -I $(3) memset-1212.c
	$(CC) -o memset-12122.exe -O2 -I $(3) memset-1212.c
	$(CC) -o memset-12123.exe -O3 -I $(3) memset-1212.c
	
1711:
	$(CC) -o memset-17110.exe -I $(3) memset-1711.c
	$(CC) -o memset-17111.exe -O1 -I $(3) memset-1711.c
	$(CC) -o memset-17112.exe -O2 -I $(3) memset-1711.c
	$(CC) -o memset-17113.exe -O3 -I $(3) memset-1711.c

1712:
	$(CC) -o memset-17120.exe -I $(3) memset-1712.c
	$(CC) -o memset-17121.exe -O1 -I $(3) memset-1712.c
	$(CC) -o memset-17122.exe -O2 -I $(3) memset-1712.c
	$(CC) -o memset-17123.exe -O3 -I $(3) memset-1712.c
	
1811:
	$(CC) -o memset-18110.exe -I $(3) memset-1811.c
	$(CC) -o memset-18111.exe -O1 -I $(3) memset-1811.c
	$(CC) -o memset-18112.exe -O2 -I $(3) memset-1811.c
	$(CC) -o memset-18113.exe -O3 -I $(3) memset-1811.c
	
2111:
	$(CC) -o memset-21110.exe -I $(3) memset-2111.c
	$(CC) -o memset-21111.exe -O1 -I $(3) memset-2111.c
	$(CC) -o memset-21112.exe -O2 -I $(3) memset-2111.c
	$(CC) -o memset-21113.exe -O3 -I $(3) memset-2111.c

2211:
	$(CC) -o memset-22110.exe -I $(3) memset-2211.c
	$(CC) -o memset-22111.exe -O1 -I $(3) memset-2211.c
	$(CC) -o memset-22112.exe -O2 -I $(3) memset-2211.c
	$(CC) -o memset-22113.exe -O3 -I $(3) memset-2211.c
	
2711:
	$(CC) -o memset-27110.exe -I $(3) memset-2711.c
	$(CC) -o memset-27111.exe -O1 -I $(3) memset-2711.c
	$(CC) -o memset-27112.exe -O2 -I $(3) memset-2711.c
	$(CC) -o memset-27113.exe -O3 -I $(3) memset-2711.c

2712:
	$(CC) -o memset-27120.exe -I $(3) memset-2712.c
	$(CC) -o memset-27121.exe -O1 -I $(3) memset-2712.c
	$(CC) -o memset-27122.exe -O2 -I $(3) memset-2712.c
	$(CC) -o memset-27123.exe -O3 -I $(3) memset-2712.c
	
2811:
	$(CC) -o memset-28110.exe -I $(3) memset-2811.c
	$(CC) -o memset-28111.exe -O1 -I $(3) memset-2811.c
	$(CC) -o memset-28112.exe -O2 -I $(3) memset-2811.c
	$(CC) -o memset-28113.exe -O3 -I $(3) memset-2811.c

3111:
	$(CC) -o memset-31110.exe -I $(3) memset-3111.c
	$(CC) -o memset-31111.exe -O1 -I $(3) memset-3111.c
	$(CC) -o memset-31112.exe -O2 -I $(3) memset-3111.c
	$(CC) -o memset-31113.exe -O3 -I $(3) memset-3111.c
	
3211:
	$(CC) -o memset-32110.exe -I $(3) memset-3211.c
	$(CC) -o memset-32111.exe -O1 -I $(3) memset-3211.c
	$(CC) -o memset-32112.exe -O2 -I $(3) memset-3211.c
	$(CC) -o memset-32113.exe -O3 -I $(3) memset-3211.c
	
3811:
	$(CC) -o memset-38110.exe -I $(3) memset-3811.c
	$(CC) -o memset-38111.exe -O1 -I $(3) memset-3811.c
	$(CC) -o memset-38112.exe -O2 -I $(3) memset-3811.c
	$(CC) -o memset-38113.exe -O3 -I $(3) memset-3811.c

harkleset:
	$(CC) -o harkleset.o -c harkleset.c
	$(CC) -o harkleset0.o -c harkleset.c
	$(CC) -o harkleset1.o -O1 -c harkleset.c
	$(CC) -o harkleset2.o -O2 -c harkleset.c
	$(CC) -o harkleset3.o -O3 -c harkleset.c

testing:
	$(CC) -o Elf_Manipulation.o -I $(3) -I $(4) -c $(4)Elf_Manipulation.c
	$(CC) -o Fileroad.o -I $(3) -c $(3)Fileroad.c
	$(CC) -o Map_Memory.o -I $(3) -I $(4) -c $(4)Map_Memory.c
	$(CC) -o Memoroad.o -I $(3) -c $(3)Memoroad.c
	$(CC) -o Timeroad.o -I $(3) -c $(3)Timeroad.c
	$(CC) -o memset-experiment.exe -I $(3) -I $(4) Elf_Manipulation.o Fileroad.o Map_Memory.o Memoroad.o Timeroad.o automate_memset_experiment.c

all:
	$(MAKE) harkleset
	$(MAKE) 0000
	$(MAKE) 1111
	$(MAKE) 1211
	$(MAKE) 1212
	$(MAKE) 1711
	$(MAKE) 1712
	$(MAKE) 1811
	$(MAKE) 2111
	$(MAKE) 2211
	$(MAKE) 2711
	$(MAKE) 2712
	$(MAKE) 2811
	$(MAKE) 3111
	$(MAKE) 3211
	$(MAKE) 3811
	$(MAKE) testing
	
clean: 
	rm -f *.o *.exe *.so

# clear; make clean; make all; for x in `ls *.exe`; do ./$x; done
